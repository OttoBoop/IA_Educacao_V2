[pytest]
# Modo assíncrono automático
asyncio_mode = auto

# Diretório de testes
testpaths = tests

# Padrões de arquivos e funções
python_files = test_*.py
python_functions = test_*

# Marcadores disponíveis
markers =
    openai: Testes específicos para OpenAI
    anthropic: Testes específicos para Anthropic
    google: Testes específicos para Google
    reasoning: Testes para modelos de raciocínio (o1, o3, deepseek-reasoner)
    e2e: Testes end-to-end do pipeline completo
    slow: Testes lentos (>30s)
    expensive: Testes que usam modelos caros (opus, o3, gpt-5)
    error_handling: Testes de tratamento de erros
    local_only: Testes que só rodam localmente
    render_compatible: Testes compatíveis com ambiente Render
    partial: Testes de execução parcial do pipeline
    integration: Testes que requerem servidor rodando ou serviços externos
    ui: Testes de interface (Playwright)
    regression: Testes de regressão para bugs corrigidos

# Opções de output
addopts = -v --tb=short

# Timeout padrão para testes async (em segundos)
timeout = 120

# Ignorar warnings específicos
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Diretórios para ignorar
norecursedirs =
    .git
    __pycache__
    data
    logs
    exports
